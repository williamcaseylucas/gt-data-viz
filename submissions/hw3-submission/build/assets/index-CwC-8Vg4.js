var To=Object.defineProperty;var Co=(t,e,n)=>e in t?To(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var mn=(t,e,n)=>(Co(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function K(){}function ki(t){return t()}function xr(){return Object.create(null)}function ln(t){t.forEach(ki)}function $i(t){return typeof t=="function"}function ue(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function ko(t){return Object.keys(t).length===0}function $o(t,...e){if(t==null){for(const r of e)r(void 0);return K}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function So(t,e,n){t.$$.on_destroy.push($o(e,n))}function U(t,e){t.appendChild(e)}function lt(t,e,n){t.insertBefore(e,n||null)}function nt(t){t.parentNode&&t.parentNode.removeChild(t)}function Si(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function O(t){return document.createElement(t)}function He(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Me(t){return document.createTextNode(t)}function et(){return Me(" ")}function Ao(){return Me("")}function tr(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function P(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Do(t){return Array.from(t.childNodes)}function br(t,e){e=""+e,t.data!==e&&(t.data=e)}function No(t,e){t.value=e??""}function Dt(t,e,n,r){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function Mr(t,e,n){for(let r=0;r<t.options.length;r+=1){const i=t.options[r];if(i.__value===e){i.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function Ro(t){const e=t.querySelector(":checked");return e&&e.__value}let Te;function we(t){Te=t}function Uo(){if(!Te)throw new Error("Function called outside component initialization");return Te}function er(t){Uo().$$.on_mount.push(t)}const Xt=[],Ce=[];let Qt=[];const Tr=[],Eo=Promise.resolve();let Fn=!1;function Fo(){Fn||(Fn=!0,Eo.then(Ai))}function qe(t){Qt.push(t)}const yn=new Set;let Ot=0;function Ai(){if(Ot!==0)return;const t=Te;do{try{for(;Ot<Xt.length;){const e=Xt[Ot];Ot++,we(e),Po(e.$$)}}catch(e){throw Xt.length=0,Ot=0,e}for(we(null),Xt.length=0,Ot=0;Ce.length;)Ce.pop()();for(let e=0;e<Qt.length;e+=1){const n=Qt[e];yn.has(n)||(yn.add(n),n())}Qt.length=0}while(Xt.length);for(;Tr.length;)Tr.pop()();Fn=!1,yn.clear(),we(t)}function Po(t){if(t.fragment!==null){t.update(),ln(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(qe)}}function Yo(t){const e=[],n=[];Qt.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),Qt=e}const Ie=new Set;let Lo;function Kt(t,e){t&&t.i&&(Ie.delete(t),t.i(e))}function ve(t,e,n,r){if(t&&t.o){if(Ie.has(t))return;Ie.add(t),Lo.c.push(()=>{Ie.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function Xe(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function xe(t){t&&t.c()}function Jt(t,e,n){const{fragment:r,after_update:i}=t.$$;r&&r.m(e,n),qe(()=>{const o=t.$$.on_mount.map(ki).filter($i);t.$$.on_destroy?t.$$.on_destroy.push(...o):ln(o),t.$$.on_mount=[]}),i.forEach(qe)}function jt(t,e){const n=t.$$;n.fragment!==null&&(Yo(n.after_update),ln(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Ho(t,e){t.$$.dirty[0]===-1&&(Xt.push(t),Fo(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Ae(t,e,n,r,i,o,a=null,l=[-1]){const s=Te;we(t);const u=t.$$={fragment:null,ctx:[],props:o,update:K,not_equal:i,bound:xr(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(s?s.$$.context:[])),callbacks:xr(),dirty:l,skip_bound:!1,root:e.target||s.$$.root};a&&a(u.root);let f=!1;if(u.ctx=n?n(t,e.props||{},(c,h,...g)=>{const m=g.length?g[0]:h;return u.ctx&&i(u.ctx[c],u.ctx[c]=m)&&(!u.skip_bound&&u.bound[c]&&u.bound[c](m),f&&Ho(t,c)),h}):[],u.update(),f=!0,ln(u.before_update),u.fragment=r?r(u.ctx):!1,e.target){if(e.hydrate){const c=Do(e.target);u.fragment&&u.fragment.l(c),c.forEach(nt)}else u.fragment&&u.fragment.c();e.intro&&Kt(t.$$.fragment),Jt(t,e.target,e.anchor),Ai()}we(s)}class De{constructor(){mn(this,"$$");mn(this,"$$set")}$destroy(){jt(this,1),this.$destroy=K}$on(e,n){if(!$i(n))return K;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!ko(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Io="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Io);const Vt=[];function Oo(t,e=K){let n;const r=new Set;function i(l){if(ue(t,l)&&(t=l,n)){const s=!Vt.length;for(const u of r)u[1](),Vt.push(u,t);if(s){for(let u=0;u<Vt.length;u+=2)Vt[u][0](Vt[u+1]);Vt.length=0}}}function o(l){i(l(t))}function a(l,s=K){const u=[l,s];return r.add(u),r.size===1&&(n=e(i,o)||K),l(t),()=>{r.delete(u),r.size===0&&n&&(n(),n=null)}}return{set:i,update:o,subscribe:a}}const kt={top:30,right:30,bottom:70,left:60},Cr=1e3-kt.left-kt.right,kr=350-kt.top-kt.bottom,$t={top:30,right:30,bottom:70,left:60},Vo=1e3-$t.left-$t.right,zo=550-$t.top-$t.bottom,$r={top:30,right:30,bottom:70,left:60},Wo=800,Bo=550-$r.top-$r.bottom,Di=Oo();function Oe(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function qo(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function nr(t){let e,n,r;t.length!==2?(e=Oe,n=(l,s)=>Oe(t(l),s),r=(l,s)=>t(l)-s):(e=t===Oe||t===qo?t:Xo,n=t,r=t);function i(l,s,u=0,f=l.length){if(u<f){if(e(s,s)!==0)return f;do{const c=u+f>>>1;n(l[c],s)<0?u=c+1:f=c}while(u<f)}return u}function o(l,s,u=0,f=l.length){if(u<f){if(e(s,s)!==0)return f;do{const c=u+f>>>1;n(l[c],s)<=0?u=c+1:f=c}while(u<f)}return u}function a(l,s,u=0,f=l.length){const c=i(l,s,u,f-1);return c>u&&r(l[c-1],s)>-r(l[c],s)?c-1:c}return{left:i,center:a,right:o}}function Xo(){return 0}function Zo(t){return t===null?NaN:+t}const Go=nr(Oe),Qo=Go.right;nr(Zo).center;function Ko(t,e){let n,r;if(e===void 0)for(const i of t)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let o of t)(o=e(o,++i,t))!=null&&(n===void 0?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}class Pn extends Map{constructor(e,n=ta){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(Sr(this,e))}has(e){return super.has(Sr(this,e))}set(e,n){return super.set(Jo(this,e),n)}delete(e){return super.delete(jo(this,e))}}function Sr({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Jo({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function jo({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function ta(t){return t!==null&&typeof t=="object"?t.valueOf():t}function ea(t){return t}function Ni(t,e,...n){return na(t,ea,e,n)}function na(t,e,n,r){return function i(o,a){if(a>=r.length)return n(o);const l=new Pn,s=r[a++];let u=-1;for(const f of o){const c=s(f,++u,o),h=l.get(c);h?h.push(f):l.set(c,[f])}for(const[f,c]of l)l.set(f,i(c,a));return e(l)}(t,0)}const ra=Math.sqrt(50),ia=Math.sqrt(10),oa=Math.sqrt(2);function Ze(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=ra?10:o>=ia?5:o>=oa?2:1;let l,s,u;return i<0?(u=Math.pow(10,-i)/a,l=Math.round(t*u),s=Math.round(e*u),l/u<t&&++l,s/u>e&&--s,u=-u):(u=Math.pow(10,i)*a,l=Math.round(t/u),s=Math.round(e/u),l*u<t&&++l,s*u>e&&--s),s<l&&.5<=n&&n<2?Ze(t,e,n*2):[l,s,u]}function aa(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?Ze(e,t,n):Ze(t,e,n);if(!(o>=i))return[];const l=o-i+1,s=new Array(l);if(r)if(a<0)for(let u=0;u<l;++u)s[u]=(o-u)/-a;else for(let u=0;u<l;++u)s[u]=(o-u)*a;else if(a<0)for(let u=0;u<l;++u)s[u]=(i+u)/-a;else for(let u=0;u<l;++u)s[u]=(i+u)*a;return s}function Yn(t,e,n){return e=+e,t=+t,n=+n,Ze(t,e,n)[2]}function Ln(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Yn(e,t,n):Yn(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function be(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function Ri(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function Ui(t,e){let n=0,r=0;if(e===void 0)for(let i of t)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let o of t)(o=e(o,++i,t))!=null&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n}function ua(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function sa(t){return t}var _n=1,wn=2,Hn=3,pe=4,Ar=1e-6;function la(t){return"translate("+t+",0)"}function ca(t){return"translate(0,"+t+")"}function fa(t){return e=>+t(e)}function ha(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function ga(){return!this.__axis}function Ei(t,e){var n=[],r=null,i=null,o=6,a=6,l=3,s=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=t===_n||t===pe?-1:1,f=t===pe||t===wn?"x":"y",c=t===_n||t===Hn?la:ca;function h(g){var m=r??(e.ticks?e.ticks.apply(e,n):e.domain()),v=i??(e.tickFormat?e.tickFormat.apply(e,n):sa),d=Math.max(o,0)+l,_=e.range(),w=+_[0]+s,p=+_[_.length-1]+s,b=(e.bandwidth?ha:fa)(e.copy(),s),M=g.selection?g.selection():g,x=M.selectAll(".domain").data([null]),$=M.selectAll(".tick").data(m,e).order(),D=$.exit(),H=$.enter().append("g").attr("class","tick"),A=$.select("line"),T=$.select("text");x=x.merge(x.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),$=$.merge(H),A=A.merge(H.append("line").attr("stroke","currentColor").attr(f+"2",u*o)),T=T.merge(H.append("text").attr("fill","currentColor").attr(f,u*d).attr("dy",t===_n?"0em":t===Hn?"0.71em":"0.32em")),g!==M&&(x=x.transition(g),$=$.transition(g),A=A.transition(g),T=T.transition(g),D=D.transition(g).attr("opacity",Ar).attr("transform",function(k){return isFinite(k=b(k))?c(k+s):this.getAttribute("transform")}),H.attr("opacity",Ar).attr("transform",function(k){var N=this.parentNode.__axis;return c((N&&isFinite(N=N(k))?N:b(k))+s)})),D.remove(),x.attr("d",t===pe||t===wn?a?"M"+u*a+","+w+"H"+s+"V"+p+"H"+u*a:"M"+s+","+w+"V"+p:a?"M"+w+","+u*a+"V"+s+"H"+p+"V"+u*a:"M"+w+","+s+"H"+p),$.attr("opacity",1).attr("transform",function(k){return c(b(k)+s)}),A.attr(f+"2",u*o),T.attr(f,u*d).text(v),M.filter(ga).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===wn?"start":t===pe?"end":"middle"),M.each(function(){this.__axis=b})}return h.scale=function(g){return arguments.length?(e=g,h):e},h.ticks=function(){return n=Array.from(arguments),h},h.tickArguments=function(g){return arguments.length?(n=g==null?[]:Array.from(g),h):n.slice()},h.tickValues=function(g){return arguments.length?(r=g==null?null:Array.from(g),h):r&&r.slice()},h.tickFormat=function(g){return arguments.length?(i=g,h):i},h.tickSize=function(g){return arguments.length?(o=a=+g,h):o},h.tickSizeInner=function(g){return arguments.length?(o=+g,h):o},h.tickSizeOuter=function(g){return arguments.length?(a=+g,h):a},h.tickPadding=function(g){return arguments.length?(l=+g,h):l},h.offset=function(g){return arguments.length?(s=+g,h):s},h}function rr(t){return Ei(Hn,t)}function ir(t){return Ei(pe,t)}var da={value:()=>{}};function or(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Ve(n)}function Ve(t){this._=t}function pa(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Ve.prototype=or.prototype={constructor:Ve,on:function(t,e){var n=this._,r=pa(t+"",n),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(t=r[o]).type)&&(i=ma(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<a;)if(i=(t=r[o]).type)n[i]=Dr(n[i],t.name,e);else if(e==null)for(i in n)n[i]=Dr(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Ve(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function ma(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function Dr(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=da,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var In="http://www.w3.org/1999/xhtml";const Nr={svg:"http://www.w3.org/2000/svg",xhtml:In,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function cn(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Nr.hasOwnProperty(e)?{space:Nr[e],local:t}:t}function ya(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===In&&e.documentElement.namespaceURI===In?e.createElement(t):e.createElementNS(n,t)}}function _a(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Fi(t){var e=cn(t);return(e.local?_a:ya)(e)}function wa(){}function ar(t){return t==null?wa:function(){return this.querySelector(t)}}function va(t){typeof t!="function"&&(t=ar(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,l=r[i]=new Array(a),s,u,f=0;f<a;++f)(s=o[f])&&(u=t.call(s,s.__data__,f,o))&&("__data__"in s&&(u.__data__=s.__data__),l[f]=u);return new ct(r,this._parents)}function xa(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function ba(){return[]}function Pi(t){return t==null?ba:function(){return this.querySelectorAll(t)}}function Ma(t){return function(){return xa(t.apply(this,arguments))}}function Ta(t){typeof t=="function"?t=Ma(t):t=Pi(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a=e[o],l=a.length,s,u=0;u<l;++u)(s=a[u])&&(r.push(t.call(s,s.__data__,u,a)),i.push(s));return new ct(r,i)}function Yi(t){return function(){return this.matches(t)}}function Li(t){return function(e){return e.matches(t)}}var Ca=Array.prototype.find;function ka(t){return function(){return Ca.call(this.children,t)}}function $a(){return this.firstElementChild}function Sa(t){return this.select(t==null?$a:ka(typeof t=="function"?t:Li(t)))}var Aa=Array.prototype.filter;function Da(){return Array.from(this.children)}function Na(t){return function(){return Aa.call(this.children,t)}}function Ra(t){return this.selectAll(t==null?Da:Na(typeof t=="function"?t:Li(t)))}function Ua(t){typeof t!="function"&&(t=Yi(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,l=r[i]=[],s,u=0;u<a;++u)(s=o[u])&&t.call(s,s.__data__,u,o)&&l.push(s);return new ct(r,this._parents)}function Hi(t){return new Array(t.length)}function Ea(){return new ct(this._enter||this._groups.map(Hi),this._parents)}function Ge(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Ge.prototype={constructor:Ge,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Fa(t){return function(){return t}}function Pa(t,e,n,r,i,o){for(var a=0,l,s=e.length,u=o.length;a<u;++a)(l=e[a])?(l.__data__=o[a],r[a]=l):n[a]=new Ge(t,o[a]);for(;a<s;++a)(l=e[a])&&(i[a]=l)}function Ya(t,e,n,r,i,o,a){var l,s,u=new Map,f=e.length,c=o.length,h=new Array(f),g;for(l=0;l<f;++l)(s=e[l])&&(h[l]=g=a.call(s,s.__data__,l,e)+"",u.has(g)?i[l]=s:u.set(g,s));for(l=0;l<c;++l)g=a.call(t,o[l],l,o)+"",(s=u.get(g))?(r[l]=s,s.__data__=o[l],u.delete(g)):n[l]=new Ge(t,o[l]);for(l=0;l<f;++l)(s=e[l])&&u.get(h[l])===s&&(i[l]=s)}function La(t){return t.__data__}function Ha(t,e){if(!arguments.length)return Array.from(this,La);var n=e?Ya:Pa,r=this._parents,i=this._groups;typeof t!="function"&&(t=Fa(t));for(var o=i.length,a=new Array(o),l=new Array(o),s=new Array(o),u=0;u<o;++u){var f=r[u],c=i[u],h=c.length,g=Ia(t.call(f,f&&f.__data__,u,r)),m=g.length,v=l[u]=new Array(m),d=a[u]=new Array(m),_=s[u]=new Array(h);n(f,c,v,d,_,g,e);for(var w=0,p=0,b,M;w<m;++w)if(b=v[w]){for(w>=p&&(p=w+1);!(M=d[p])&&++p<m;);b._next=M||null}}return a=new ct(a,r),a._enter=l,a._exit=s,a}function Ia(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Oa(){return new ct(this._exit||this._groups.map(Hi),this._parents)}function Va(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function za(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,a=Math.min(i,o),l=new Array(i),s=0;s<a;++s)for(var u=n[s],f=r[s],c=u.length,h=l[s]=new Array(c),g,m=0;m<c;++m)(g=u[m]||f[m])&&(h[m]=g);for(;s<i;++s)l[s]=n[s];return new ct(l,this._parents)}function Wa(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function Ba(t){t||(t=qa);function e(c,h){return c&&h?t(c.__data__,h.__data__):!c-!h}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a=n[o],l=a.length,s=i[o]=new Array(l),u,f=0;f<l;++f)(u=a[f])&&(s[f]=u);s.sort(e)}return new ct(i,this._parents).order()}function qa(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Xa(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Za(){return Array.from(this)}function Ga(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function Qa(){let t=0;for(const e of this)++t;return t}function Ka(){return!this.node()}function Ja(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,a=i.length,l;o<a;++o)(l=i[o])&&t.call(l,l.__data__,o,i);return this}function ja(t){return function(){this.removeAttribute(t)}}function tu(t){return function(){this.removeAttributeNS(t.space,t.local)}}function eu(t,e){return function(){this.setAttribute(t,e)}}function nu(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function ru(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function iu(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function ou(t,e){var n=cn(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?tu:ja:typeof e=="function"?n.local?iu:ru:n.local?nu:eu)(n,e))}function Ii(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function au(t){return function(){this.style.removeProperty(t)}}function uu(t,e,n){return function(){this.style.setProperty(t,e,n)}}function su(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function lu(t,e,n){return arguments.length>1?this.each((e==null?au:typeof e=="function"?su:uu)(t,e,n??"")):ne(this.node(),t)}function ne(t,e){return t.style.getPropertyValue(e)||Ii(t).getComputedStyle(t,null).getPropertyValue(e)}function cu(t){return function(){delete this[t]}}function fu(t,e){return function(){this[t]=e}}function hu(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function gu(t,e){return arguments.length>1?this.each((e==null?cu:typeof e=="function"?hu:fu)(t,e)):this.node()[t]}function Oi(t){return t.trim().split(/^|\s+/)}function ur(t){return t.classList||new Vi(t)}function Vi(t){this._node=t,this._names=Oi(t.getAttribute("class")||"")}Vi.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function zi(t,e){for(var n=ur(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Wi(t,e){for(var n=ur(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function du(t){return function(){zi(this,t)}}function pu(t){return function(){Wi(this,t)}}function mu(t,e){return function(){(e.apply(this,arguments)?zi:Wi)(this,t)}}function yu(t,e){var n=Oi(t+"");if(arguments.length<2){for(var r=ur(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?mu:e?du:pu)(n,e))}function _u(){this.textContent=""}function wu(t){return function(){this.textContent=t}}function vu(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function xu(t){return arguments.length?this.each(t==null?_u:(typeof t=="function"?vu:wu)(t)):this.node().textContent}function bu(){this.innerHTML=""}function Mu(t){return function(){this.innerHTML=t}}function Tu(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Cu(t){return arguments.length?this.each(t==null?bu:(typeof t=="function"?Tu:Mu)(t)):this.node().innerHTML}function ku(){this.nextSibling&&this.parentNode.appendChild(this)}function $u(){return this.each(ku)}function Su(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Au(){return this.each(Su)}function Du(t){var e=typeof t=="function"?t:Fi(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Nu(){return null}function Ru(t,e){var n=typeof t=="function"?t:Fi(t),r=e==null?Nu:typeof e=="function"?e:ar(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Uu(){var t=this.parentNode;t&&t.removeChild(this)}function Eu(){return this.each(Uu)}function Fu(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Pu(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Yu(t){return this.select(t?Pu:Fu)}function Lu(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Hu(t){return function(e){t.call(this,e,this.__data__)}}function Iu(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function Ou(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function Vu(t,e,n){return function(){var r=this.__on,i,o=Hu(e);if(r){for(var a=0,l=r.length;a<l;++a)if((i=r[a]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function zu(t,e,n){var r=Iu(t+""),i,o=r.length,a;if(arguments.length<2){var l=this.node().__on;if(l){for(var s=0,u=l.length,f;s<u;++s)for(i=0,f=l[s];i<o;++i)if((a=r[i]).type===f.type&&a.name===f.name)return f.value}return}for(l=e?Vu:Ou,i=0;i<o;++i)this.each(l(r[i],e,n));return this}function Bi(t,e,n){var r=Ii(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Wu(t,e){return function(){return Bi(this,t,e)}}function Bu(t,e){return function(){return Bi(this,t,e.apply(this,arguments))}}function qu(t,e){return this.each((typeof e=="function"?Bu:Wu)(t,e))}function*Xu(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var qi=[null];function ct(t,e){this._groups=t,this._parents=e}function Ne(){return new ct([[document.documentElement]],qi)}function Zu(){return this}ct.prototype=Ne.prototype={constructor:ct,select:va,selectAll:Ta,selectChild:Sa,selectChildren:Ra,filter:Ua,data:Ha,enter:Ea,exit:Oa,join:Va,merge:za,selection:Zu,order:Wa,sort:Ba,call:Xa,nodes:Za,node:Ga,size:Qa,empty:Ka,each:Ja,attr:ou,style:lu,property:gu,classed:yu,text:xu,html:Cu,raise:$u,lower:Au,append:Du,insert:Ru,remove:Eu,clone:Yu,datum:Lu,on:zu,dispatch:qu,[Symbol.iterator]:Xu};function pt(t){return typeof t=="string"?new ct([[document.querySelector(t)]],[document.documentElement]):new ct([[t]],qi)}function Gu(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Rr(t,e){if(t=Gu(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const On={capture:!0,passive:!1};function Vn(t){t.preventDefault(),t.stopImmediatePropagation()}function Qu(t){var e=t.document.documentElement,n=pt(t).on("dragstart.drag",Vn,On);"onselectstart"in e?n.on("selectstart.drag",Vn,On):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Ku(t,e){var n=t.document.documentElement,r=pt(t).on("dragstart.drag",null);e&&(r.on("click.drag",Vn,On),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function sr(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Xi(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Re(){}var ke=.7,Qe=1/ke,te="\\s*([+-]?\\d+)\\s*",$e="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",mt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ju=/^#([0-9a-f]{3,8})$/,ju=new RegExp(`^rgb\\(${te},${te},${te}\\)$`),ts=new RegExp(`^rgb\\(${mt},${mt},${mt}\\)$`),es=new RegExp(`^rgba\\(${te},${te},${te},${$e}\\)$`),ns=new RegExp(`^rgba\\(${mt},${mt},${mt},${$e}\\)$`),rs=new RegExp(`^hsl\\(${$e},${mt},${mt}\\)$`),is=new RegExp(`^hsla\\(${$e},${mt},${mt},${$e}\\)$`),Ur={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};sr(Re,Ut,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Er,formatHex:Er,formatHex8:os,formatHsl:as,formatRgb:Fr,toString:Fr});function Er(){return this.rgb().formatHex()}function os(){return this.rgb().formatHex8()}function as(){return Zi(this).formatHsl()}function Fr(){return this.rgb().formatRgb()}function Ut(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Ju.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Pr(e):n===3?new ut(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Ee(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Ee(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=ju.exec(t))?new ut(e[1],e[2],e[3],1):(e=ts.exec(t))?new ut(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=es.exec(t))?Ee(e[1],e[2],e[3],e[4]):(e=ns.exec(t))?Ee(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=rs.exec(t))?Hr(e[1],e[2]/100,e[3]/100,1):(e=is.exec(t))?Hr(e[1],e[2]/100,e[3]/100,e[4]):Ur.hasOwnProperty(t)?Pr(Ur[t]):t==="transparent"?new ut(NaN,NaN,NaN,0):null}function Pr(t){return new ut(t>>16&255,t>>8&255,t&255,1)}function Ee(t,e,n,r){return r<=0&&(t=e=n=NaN),new ut(t,e,n,r)}function us(t){return t instanceof Re||(t=Ut(t)),t?(t=t.rgb(),new ut(t.r,t.g,t.b,t.opacity)):new ut}function zn(t,e,n,r){return arguments.length===1?us(t):new ut(t,e,n,r??1)}function ut(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}sr(ut,zn,Xi(Re,{brighter(t){return t=t==null?Qe:Math.pow(Qe,t),new ut(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ke:Math.pow(ke,t),new ut(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ut(Rt(this.r),Rt(this.g),Rt(this.b),Ke(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Yr,formatHex:Yr,formatHex8:ss,formatRgb:Lr,toString:Lr}));function Yr(){return`#${Nt(this.r)}${Nt(this.g)}${Nt(this.b)}`}function ss(){return`#${Nt(this.r)}${Nt(this.g)}${Nt(this.b)}${Nt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Lr(){const t=Ke(this.opacity);return`${t===1?"rgb(":"rgba("}${Rt(this.r)}, ${Rt(this.g)}, ${Rt(this.b)}${t===1?")":`, ${t})`}`}function Ke(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Rt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Nt(t){return t=Rt(t),(t<16?"0":"")+t.toString(16)}function Hr(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new gt(t,e,n,r)}function Zi(t){if(t instanceof gt)return new gt(t.h,t.s,t.l,t.opacity);if(t instanceof Re||(t=Ut(t)),!t)return new gt;if(t instanceof gt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,l=o-i,s=(o+i)/2;return l?(e===o?a=(n-r)/l+(n<r)*6:n===o?a=(r-e)/l+2:a=(e-n)/l+4,l/=s<.5?o+i:2-o-i,a*=60):l=s>0&&s<1?0:a,new gt(a,l,s,t.opacity)}function ls(t,e,n,r){return arguments.length===1?Zi(t):new gt(t,e,n,r??1)}function gt(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}sr(gt,ls,Xi(Re,{brighter(t){return t=t==null?Qe:Math.pow(Qe,t),new gt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ke:Math.pow(ke,t),new gt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new ut(vn(t>=240?t-240:t+120,i,r),vn(t,i,r),vn(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new gt(Ir(this.h),Fe(this.s),Fe(this.l),Ke(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ke(this.opacity);return`${t===1?"hsl(":"hsla("}${Ir(this.h)}, ${Fe(this.s)*100}%, ${Fe(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Ir(t){return t=(t||0)%360,t<0?t+360:t}function Fe(t){return Math.max(0,Math.min(1,t||0))}function vn(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const lr=t=>()=>t;function cs(t,e){return function(n){return t+n*e}}function fs(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function hs(t){return(t=+t)==1?Gi:function(e,n){return n-e?fs(e,n,t):lr(isNaN(e)?n:e)}}function Gi(t,e){var n=e-t;return n?cs(t,n):lr(isNaN(t)?e:t)}const Je=function t(e){var n=hs(e);function r(i,o){var a=n((i=zn(i)).r,(o=zn(o)).r),l=n(i.g,o.g),s=n(i.b,o.b),u=Gi(i.opacity,o.opacity);return function(f){return i.r=a(f),i.g=l(f),i.b=s(f),i.opacity=u(f),i+""}}return r.gamma=t,r}(1);function gs(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function ds(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function ps(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=fn(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(l){for(a=0;a<r;++a)o[a]=i[a](l);return o}}function ms(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function ht(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function ys(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=fn(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Wn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,xn=new RegExp(Wn.source,"g");function _s(t){return function(){return t}}function ws(t){return function(e){return t(e)+""}}function Qi(t,e){var n=Wn.lastIndex=xn.lastIndex=0,r,i,o,a=-1,l=[],s=[];for(t=t+"",e=e+"";(r=Wn.exec(t))&&(i=xn.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),l[a]?l[a]+=o:l[++a]=o),(r=r[0])===(i=i[0])?l[a]?l[a]+=i:l[++a]=i:(l[++a]=null,s.push({i:a,x:ht(r,i)})),n=xn.lastIndex;return n<e.length&&(o=e.slice(n),l[a]?l[a]+=o:l[++a]=o),l.length<2?s[0]?ws(s[0].x):_s(e):(e=s.length,function(u){for(var f=0,c;f<e;++f)l[(c=s[f]).i]=c.x(u);return l.join("")})}function fn(t,e){var n=typeof e,r;return e==null||n==="boolean"?lr(e):(n==="number"?ht:n==="string"?(r=Ut(e))?(e=r,Je):Qi:e instanceof Ut?Je:e instanceof Date?ms:ds(e)?gs:Array.isArray(e)?ps:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?ys:ht)(t,e)}function vs(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Or=180/Math.PI,Bn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ki(t,e,n,r,i,o){var a,l,s;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(s=t*n+e*r)&&(n-=t*s,r-=e*s),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,s/=l),t*r<e*n&&(t=-t,e=-e,s=-s,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*Or,skewX:Math.atan(s)*Or,scaleX:a,scaleY:l}}var Pe;function xs(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Bn:Ki(e.a,e.b,e.c,e.d,e.e,e.f)}function bs(t){return t==null||(Pe||(Pe=document.createElementNS("http://www.w3.org/2000/svg","g")),Pe.setAttribute("transform",t),!(t=Pe.transform.baseVal.consolidate()))?Bn:(t=t.matrix,Ki(t.a,t.b,t.c,t.d,t.e,t.f))}function Ji(t,e,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,f,c,h,g,m){if(u!==c||f!==h){var v=g.push("translate(",null,e,null,n);m.push({i:v-4,x:ht(u,c)},{i:v-2,x:ht(f,h)})}else(c||h)&&g.push("translate("+c+e+h+n)}function a(u,f,c,h){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),h.push({i:c.push(i(c)+"rotate(",null,r)-2,x:ht(u,f)})):f&&c.push(i(c)+"rotate("+f+r)}function l(u,f,c,h){u!==f?h.push({i:c.push(i(c)+"skewX(",null,r)-2,x:ht(u,f)}):f&&c.push(i(c)+"skewX("+f+r)}function s(u,f,c,h,g,m){if(u!==c||f!==h){var v=g.push(i(g)+"scale(",null,",",null,")");m.push({i:v-4,x:ht(u,c)},{i:v-2,x:ht(f,h)})}else(c!==1||h!==1)&&g.push(i(g)+"scale("+c+","+h+")")}return function(u,f){var c=[],h=[];return u=t(u),f=t(f),o(u.translateX,u.translateY,f.translateX,f.translateY,c,h),a(u.rotate,f.rotate,c,h),l(u.skewX,f.skewX,c,h),s(u.scaleX,u.scaleY,f.scaleX,f.scaleY,c,h),u=f=null,function(g){for(var m=-1,v=h.length,d;++m<v;)c[(d=h[m]).i]=d.x(g);return c.join("")}}}var Ms=Ji(xs,"px, ","px)","deg)"),Ts=Ji(bs,", ",")",")"),re=0,me=0,ce=0,ji=1e3,je,ye,tn=0,Et=0,hn=0,Se=typeof performance=="object"&&performance.now?performance:Date,to=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function cr(){return Et||(to(Cs),Et=Se.now()+hn)}function Cs(){Et=0}function en(){this._call=this._time=this._next=null}en.prototype=eo.prototype={constructor:en,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?cr():+n)+(e==null?0:+e),!this._next&&ye!==this&&(ye?ye._next=this:je=this,ye=this),this._call=t,this._time=n,qn()},stop:function(){this._call&&(this._call=null,this._time=1/0,qn())}};function eo(t,e,n){var r=new en;return r.restart(t,e,n),r}function ks(){cr(),++re;for(var t=je,e;t;)(e=Et-t._time)>=0&&t._call.call(void 0,e),t=t._next;--re}function Vr(){Et=(tn=Se.now())+hn,re=me=0;try{ks()}finally{re=0,Ss(),Et=0}}function $s(){var t=Se.now(),e=t-tn;e>ji&&(hn-=e,tn=t)}function Ss(){for(var t,e=je,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:je=n);ye=t,qn(r)}function qn(t){if(!re){me&&(me=clearTimeout(me));var e=t-Et;e>24?(t<1/0&&(me=setTimeout(Vr,t-Se.now()-hn)),ce&&(ce=clearInterval(ce))):(ce||(tn=Se.now(),ce=setInterval($s,ji)),re=1,to(Vr))}}function zr(t,e,n){var r=new en;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var As=or("start","end","cancel","interrupt"),Ds=[],no=0,Wr=1,Xn=2,ze=3,Br=4,Zn=5,We=6;function gn(t,e,n,r,i,o){var a=t.__transition;if(!a)t.__transition={};else if(n in a)return;Ns(t,n,{name:e,index:r,group:i,on:As,tween:Ds,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:no})}function fr(t,e){var n=dt(t,e);if(n.state>no)throw new Error("too late; already scheduled");return n}function yt(t,e){var n=dt(t,e);if(n.state>ze)throw new Error("too late; already running");return n}function dt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Ns(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=eo(o,0,n.time);function o(u){n.state=Wr,n.timer.restart(a,n.delay,n.time),n.delay<=u&&a(u-n.delay)}function a(u){var f,c,h,g;if(n.state!==Wr)return s();for(f in r)if(g=r[f],g.name===n.name){if(g.state===ze)return zr(a);g.state===Br?(g.state=We,g.timer.stop(),g.on.call("interrupt",t,t.__data__,g.index,g.group),delete r[f]):+f<e&&(g.state=We,g.timer.stop(),g.on.call("cancel",t,t.__data__,g.index,g.group),delete r[f])}if(zr(function(){n.state===ze&&(n.state=Br,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=Xn,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Xn){for(n.state=ze,i=new Array(h=n.tween.length),f=0,c=-1;f<h;++f)(g=n.tween[f].value.call(t,t.__data__,n.index,n.group))&&(i[++c]=g);i.length=c+1}}function l(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(s),n.state=Zn,1),c=-1,h=i.length;++c<h;)i[c].call(t,f);n.state===Zn&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){n.state=We,n.timer.stop(),delete r[e];for(var u in r)return;delete t.__transition}}function Gn(t,e){var n=t.__transition,r,i,o=!0,a;if(n){e=e==null?null:e+"";for(a in n){if((r=n[a]).name!==e){o=!1;continue}i=r.state>Xn&&r.state<Zn,r.state=We,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[a]}o&&delete t.__transition}}function Rs(t){return this.each(function(){Gn(this,t)})}function Us(t,e){var n,r;return function(){var i=yt(this,t),o=i.tween;if(o!==n){r=n=o;for(var a=0,l=r.length;a<l;++a)if(r[a].name===e){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function Es(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=yt(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var l={name:e,value:n},s=0,u=i.length;s<u;++s)if(i[s].name===e){i[s]=l;break}s===u&&i.push(l)}o.tween=i}}function Fs(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=dt(this.node(),n).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===t)return a.value;return null}return this.each((e==null?Us:Es)(n,t,e))}function hr(t,e,n){var r=t._id;return t.each(function(){var i=yt(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return dt(i,r).value[e]}}function ro(t,e){var n;return(typeof e=="number"?ht:e instanceof Ut?Je:(n=Ut(e))?(e=n,Je):Qi)(t,e)}function Ps(t){return function(){this.removeAttribute(t)}}function Ys(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ls(t,e,n){var r,i=n+"",o;return function(){var a=this.getAttribute(t);return a===i?null:a===r?o:o=e(r=a,n)}}function Hs(t,e,n){var r,i=n+"",o;return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?o:o=e(r=a,n)}}function Is(t,e,n){var r,i,o;return function(){var a,l=n(this),s;return l==null?void this.removeAttribute(t):(a=this.getAttribute(t),s=l+"",a===s?null:a===r&&s===i?o:(i=s,o=e(r=a,l)))}}function Os(t,e,n){var r,i,o;return function(){var a,l=n(this),s;return l==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),s=l+"",a===s?null:a===r&&s===i?o:(i=s,o=e(r=a,l)))}}function Vs(t,e){var n=cn(t),r=n==="transform"?Ts:ro;return this.attrTween(t,typeof e=="function"?(n.local?Os:Is)(n,r,hr(this,"attr."+t,e)):e==null?(n.local?Ys:Ps)(n):(n.local?Hs:Ls)(n,r,e))}function zs(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Ws(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Bs(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&Ws(t,o)),n}return i._value=e,i}function qs(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&zs(t,o)),n}return i._value=e,i}function Xs(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=cn(t);return this.tween(n,(r.local?Bs:qs)(r,e))}function Zs(t,e){return function(){fr(this,t).delay=+e.apply(this,arguments)}}function Gs(t,e){return e=+e,function(){fr(this,t).delay=e}}function Qs(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Zs:Gs)(e,t)):dt(this.node(),e).delay}function Ks(t,e){return function(){yt(this,t).duration=+e.apply(this,arguments)}}function Js(t,e){return e=+e,function(){yt(this,t).duration=e}}function js(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Ks:Js)(e,t)):dt(this.node(),e).duration}function tl(t,e){if(typeof e!="function")throw new Error;return function(){yt(this,t).ease=e}}function el(t){var e=this._id;return arguments.length?this.each(tl(e,t)):dt(this.node(),e).ease}function nl(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;yt(this,t).ease=n}}function rl(t){if(typeof t!="function")throw new Error;return this.each(nl(this._id,t))}function il(t){typeof t!="function"&&(t=Yi(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,l=r[i]=[],s,u=0;u<a;++u)(s=o[u])&&t.call(s,s.__data__,u,o)&&l.push(s);return new bt(r,this._parents,this._name,this._id)}function ol(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),l=0;l<o;++l)for(var s=e[l],u=n[l],f=s.length,c=a[l]=new Array(f),h,g=0;g<f;++g)(h=s[g]||u[g])&&(c[g]=h);for(;l<r;++l)a[l]=e[l];return new bt(a,this._parents,this._name,this._id)}function al(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function ul(t,e,n){var r,i,o=al(e)?fr:yt;return function(){var a=o(this,t),l=a.on;l!==r&&(i=(r=l).copy()).on(e,n),a.on=i}}function sl(t,e){var n=this._id;return arguments.length<2?dt(this.node(),n).on.on(t):this.each(ul(n,t,e))}function ll(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function cl(){return this.on("end.remove",ll(this._id))}function fl(t){var e=this._name,n=this._id;typeof t!="function"&&(t=ar(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var l=r[a],s=l.length,u=o[a]=new Array(s),f,c,h=0;h<s;++h)(f=l[h])&&(c=t.call(f,f.__data__,h,l))&&("__data__"in f&&(c.__data__=f.__data__),u[h]=c,gn(u[h],e,n,h,u,dt(f,n)));return new bt(o,this._parents,e,n)}function hl(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Pi(t));for(var r=this._groups,i=r.length,o=[],a=[],l=0;l<i;++l)for(var s=r[l],u=s.length,f,c=0;c<u;++c)if(f=s[c]){for(var h=t.call(f,f.__data__,c,s),g,m=dt(f,n),v=0,d=h.length;v<d;++v)(g=h[v])&&gn(g,e,n,v,h,m);o.push(h),a.push(f)}return new bt(o,a,e,n)}var gl=Ne.prototype.constructor;function dl(){return new gl(this._groups,this._parents)}function pl(t,e){var n,r,i;return function(){var o=ne(this,t),a=(this.style.removeProperty(t),ne(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}function io(t){return function(){this.style.removeProperty(t)}}function ml(t,e,n){var r,i=n+"",o;return function(){var a=ne(this,t);return a===i?null:a===r?o:o=e(r=a,n)}}function yl(t,e,n){var r,i,o;return function(){var a=ne(this,t),l=n(this),s=l+"";return l==null&&(s=l=(this.style.removeProperty(t),ne(this,t))),a===s?null:a===r&&s===i?o:(i=s,o=e(r=a,l))}}function _l(t,e){var n,r,i,o="style."+e,a="end."+o,l;return function(){var s=yt(this,t),u=s.on,f=s.value[o]==null?l||(l=io(e)):void 0;(u!==n||i!==f)&&(r=(n=u).copy()).on(a,i=f),s.on=r}}function wl(t,e,n){var r=(t+="")=="transform"?Ms:ro;return e==null?this.styleTween(t,pl(t,r)).on("end.style."+t,io(t)):typeof e=="function"?this.styleTween(t,yl(t,r,hr(this,"style."+t,e))).each(_l(this._id,t)):this.styleTween(t,ml(t,r,e),n).on("end.style."+t,null)}function vl(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function xl(t,e,n){var r,i;function o(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&vl(t,a,n)),r}return o._value=e,o}function bl(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,xl(t,e,n??""))}function Ml(t){return function(){this.textContent=t}}function Tl(t){return function(){var e=t(this);this.textContent=e??""}}function Cl(t){return this.tween("text",typeof t=="function"?Tl(hr(this,"text",t)):Ml(t==null?"":t+""))}function kl(t){return function(e){this.textContent=t.call(this,e)}}function $l(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&kl(i)),e}return r._value=t,r}function Sl(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,$l(t))}function Al(){for(var t=this._name,e=this._id,n=oo(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],l=a.length,s,u=0;u<l;++u)if(s=a[u]){var f=dt(s,e);gn(s,t,n,u,a,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new bt(r,this._parents,t,n)}function Dl(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var l={value:a},s={value:function(){--i===0&&o()}};n.each(function(){var u=yt(this,r),f=u.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(l),e._.interrupt.push(l),e._.end.push(s)),u.on=e}),i===0&&o()})}var Nl=0;function bt(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function oo(){return++Nl}var _t=Ne.prototype;bt.prototype={constructor:bt,select:fl,selectAll:hl,selectChild:_t.selectChild,selectChildren:_t.selectChildren,filter:il,merge:ol,selection:dl,transition:Al,call:_t.call,nodes:_t.nodes,node:_t.node,size:_t.size,empty:_t.empty,each:_t.each,on:sl,attr:Vs,attrTween:Xs,style:wl,styleTween:bl,text:Cl,textTween:Sl,remove:cl,tween:Fs,delay:Qs,duration:js,ease:el,easeVarying:rl,end:Dl,[Symbol.iterator]:_t[Symbol.iterator]};function Rl(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Ul={time:null,delay:0,duration:250,ease:Rl};function El(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Fl(t){var e,n;t instanceof bt?(e=t._id,t=t._name):(e=oo(),(n=Ul).time=cr(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],l=a.length,s,u=0;u<l;++u)(s=a[u])&&gn(s,t,e,u,a,n||El(s,e));return new bt(r,this._parents,t,e)}Ne.prototype.interrupt=Rs;Ne.prototype.transition=Fl;const bn=t=>()=>t;function Pl(t,{sourceEvent:e,target:n,selection:r,mode:i,dispatch:o}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function Yl(t){t.stopImmediatePropagation()}function Mn(t){t.preventDefault(),t.stopImmediatePropagation()}var qr={name:"drag"},Tn={name:"space"},zt={name:"handle"},Wt={name:"center"};const{abs:Xr,max:j,min:tt}=Math;function Zr(t){return[+t[0],+t[1]]}function Gr(t){return[Zr(t[0]),Zr(t[1])]}var Be={name:"x",handles:["w","e"].map(nn),input:function(t,e){return t==null?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},Cn={name:"y",handles:["n","s"].map(nn),input:function(t,e){return t==null?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},wt={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Qr={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Kr={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Ll={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Hl={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function nn(t){return{type:t}}function Il(t){return!t.ctrlKey&&!t.button}function Ol(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function Vl(){return navigator.maxTouchPoints||"ontouchstart"in this}function kn(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function zl(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function Wl(){return Bl(Be)}function Bl(t){var e=Ol,n=Il,r=Vl,i=!0,o=or("start","brush","end"),a=6,l;function s(d){var _=d.property("__brush",v).selectAll(".overlay").data([nn("overlay")]);_.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",wt.overlay).merge(_).each(function(){var p=kn(this).extent;pt(this).attr("x",p[0][0]).attr("y",p[0][1]).attr("width",p[1][0]-p[0][0]).attr("height",p[1][1]-p[0][1])}),d.selectAll(".selection").data([nn("selection")]).enter().append("rect").attr("class","selection").attr("cursor",wt.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var w=d.selectAll(".handle").data(t.handles,function(p){return p.type});w.exit().remove(),w.enter().append("rect").attr("class",function(p){return"handle handle--"+p.type}).attr("cursor",function(p){return wt[p.type]}),d.each(u).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",h).filter(r).on("touchstart.brush",h).on("touchmove.brush",g).on("touchend.brush touchcancel.brush",m).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}s.move=function(d,_,w){d.tween?d.on("start.brush",function(p){f(this,arguments).beforestart().start(p)}).on("interrupt.brush end.brush",function(p){f(this,arguments).end(p)}).tween("brush",function(){var p=this,b=p.__brush,M=f(p,arguments),x=b.selection,$=t.input(typeof _=="function"?_.apply(this,arguments):_,b.extent),D=fn(x,$);function H(A){b.selection=A===1&&$===null?null:D(A),u.call(p),M.brush()}return x!==null&&$!==null?H:H(1)}):d.each(function(){var p=this,b=arguments,M=p.__brush,x=t.input(typeof _=="function"?_.apply(p,b):_,M.extent),$=f(p,b).beforestart();Gn(p),M.selection=x===null?null:x,u.call(p),$.start(w).brush(w).end(w)})},s.clear=function(d,_){s.move(d,null,_)};function u(){var d=pt(this),_=kn(this).selection;_?(d.selectAll(".selection").style("display",null).attr("x",_[0][0]).attr("y",_[0][1]).attr("width",_[1][0]-_[0][0]).attr("height",_[1][1]-_[0][1]),d.selectAll(".handle").style("display",null).attr("x",function(w){return w.type[w.type.length-1]==="e"?_[1][0]-a/2:_[0][0]-a/2}).attr("y",function(w){return w.type[0]==="s"?_[1][1]-a/2:_[0][1]-a/2}).attr("width",function(w){return w.type==="n"||w.type==="s"?_[1][0]-_[0][0]+a:a}).attr("height",function(w){return w.type==="e"||w.type==="w"?_[1][1]-_[0][1]+a:a})):d.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function f(d,_,w){var p=d.__brush.emitter;return p&&(!w||!p.clean)?p:new c(d,_,w)}function c(d,_,w){this.that=d,this.args=_,this.state=d.__brush,this.active=0,this.clean=w}c.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(d,_){return this.starting?(this.starting=!1,this.emit("start",d,_)):this.emit("brush",d),this},brush:function(d,_){return this.emit("brush",d,_),this},end:function(d,_){return--this.active===0&&(delete this.state.emitter,this.emit("end",d,_)),this},emit:function(d,_,w){var p=pt(this.that).datum();o.call(d,this.that,new Pl(d,{sourceEvent:_,target:s,selection:t.output(this.state.selection),mode:w,dispatch:o}),p)}};function h(d){if(l&&!d.touches||!n.apply(this,arguments))return;var _=this,w=d.target.__data__.type,p=(i&&d.metaKey?w="overlay":w)==="selection"?qr:i&&d.altKey?Wt:zt,b=t===Cn?null:Ll[w],M=t===Be?null:Hl[w],x=kn(_),$=x.extent,D=x.selection,H=$[0][0],A,T,k=$[0][1],N,I,st=$[1][0],V,z,rt=$[1][1],Y,Z,q=0,X=0,se,Lt=b&&M&&i&&d.shiftKey,Ht,It,J=Array.from(d.touches||[d],S=>{const B=S.identifier;return S=Rr(S,_),S.point0=S.slice(),S.identifier=B,S});Gn(_);var St=f(_,arguments,!0).beforestart();if(w==="overlay"){D&&(se=!0);const S=[J[0],J[1]||J[0]];x.selection=D=[[A=t===Cn?H:tt(S[0][0],S[1][0]),N=t===Be?k:tt(S[0][1],S[1][1])],[V=t===Cn?st:j(S[0][0],S[1][0]),Y=t===Be?rt:j(S[0][1],S[1][1])]],J.length>1&&W(d)}else A=D[0][0],N=D[0][1],V=D[1][0],Y=D[1][1];T=A,I=N,z=V,Z=Y;var C=pt(_).attr("pointer-events","none"),R=C.selectAll(".overlay").attr("cursor",wt[w]);if(d.touches)St.moved=y,St.ended=L;else{var E=pt(d.view).on("mousemove.brush",y,!0).on("mouseup.brush",L,!0);i&&E.on("keydown.brush",it,!0).on("keyup.brush",ot,!0),Qu(d.view)}u.call(_),St.start(d,p.name);function y(S){for(const B of S.changedTouches||[S])for(const le of J)le.identifier===B.identifier&&(le.cur=Rr(B,_));if(Lt&&!Ht&&!It&&J.length===1){const B=J[0];Xr(B.cur[0]-B[0])>Xr(B.cur[1]-B[1])?It=!0:Ht=!0}for(const B of J)B.cur&&(B[0]=B.cur[0],B[1]=B.cur[1]);se=!0,Mn(S),W(S)}function W(S){const B=J[0],le=B.point0;var Ct;switch(q=B[0]-le[0],X=B[1]-le[1],p){case Tn:case qr:{b&&(q=j(H-A,tt(st-V,q)),T=A+q,z=V+q),M&&(X=j(k-N,tt(rt-Y,X)),I=N+X,Z=Y+X);break}case zt:{J[1]?(b&&(T=j(H,tt(st,J[0][0])),z=j(H,tt(st,J[1][0])),b=1),M&&(I=j(k,tt(rt,J[0][1])),Z=j(k,tt(rt,J[1][1])),M=1)):(b<0?(q=j(H-A,tt(st-A,q)),T=A+q,z=V):b>0&&(q=j(H-V,tt(st-V,q)),T=A,z=V+q),M<0?(X=j(k-N,tt(rt-N,X)),I=N+X,Z=Y):M>0&&(X=j(k-Y,tt(rt-Y,X)),I=N,Z=Y+X));break}case Wt:{b&&(T=j(H,tt(st,A-q*b)),z=j(H,tt(st,V+q*b))),M&&(I=j(k,tt(rt,N-X*M)),Z=j(k,tt(rt,Y+X*M)));break}}z<T&&(b*=-1,Ct=A,A=V,V=Ct,Ct=T,T=z,z=Ct,w in Qr&&R.attr("cursor",wt[w=Qr[w]])),Z<I&&(M*=-1,Ct=N,N=Y,Y=Ct,Ct=I,I=Z,Z=Ct,w in Kr&&R.attr("cursor",wt[w=Kr[w]])),x.selection&&(D=x.selection),Ht&&(T=D[0][0],z=D[1][0]),It&&(I=D[0][1],Z=D[1][1]),(D[0][0]!==T||D[0][1]!==I||D[1][0]!==z||D[1][1]!==Z)&&(x.selection=[[T,I],[z,Z]],u.call(_),St.brush(S,p.name))}function L(S){if(Yl(S),S.touches){if(S.touches.length)return;l&&clearTimeout(l),l=setTimeout(function(){l=null},500)}else Ku(S.view,se),E.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);C.attr("pointer-events","all"),R.attr("cursor",wt.overlay),x.selection&&(D=x.selection),zl(D)&&(x.selection=null,u.call(_)),St.end(S,p.name)}function it(S){switch(S.keyCode){case 16:{Lt=b&&M;break}case 18:{p===zt&&(b&&(V=z-q*b,A=T+q*b),M&&(Y=Z-X*M,N=I+X*M),p=Wt,W(S));break}case 32:{(p===zt||p===Wt)&&(b<0?V=z-q:b>0&&(A=T-q),M<0?Y=Z-X:M>0&&(N=I-X),p=Tn,R.attr("cursor",wt.selection),W(S));break}default:return}Mn(S)}function ot(S){switch(S.keyCode){case 16:{Lt&&(Ht=It=Lt=!1,W(S));break}case 18:{p===Wt&&(b<0?V=z:b>0&&(A=T),M<0?Y=Z:M>0&&(N=I),p=zt,W(S));break}case 32:{p===Tn&&(S.altKey?(b&&(V=z-q*b,A=T+q*b),M&&(Y=Z-X*M,N=I+X*M),p=Wt):(b<0?V=z:b>0&&(A=T),M<0?Y=Z:M>0&&(N=I),p=zt),R.attr("cursor",wt[w]),W(S));break}default:return}Mn(S)}}function g(d){f(this,arguments).moved(d)}function m(d){f(this,arguments).ended(d)}function v(){var d=this.__brush||{selection:null};return d.extent=Gr(e.apply(this,arguments)),d.dim=t,d}return s.extent=function(d){return arguments.length?(e=typeof d=="function"?d:bn(Gr(d)),s):e},s.filter=function(d){return arguments.length?(n=typeof d=="function"?d:bn(!!d),s):n},s.touchable=function(d){return arguments.length?(r=typeof d=="function"?d:bn(!!d),s):r},s.handleSize=function(d){return arguments.length?(a=+d,s):a},s.keyModifiers=function(d){return arguments.length?(i=!!d,s):i},s.on=function(){var d=o.on.apply(o,arguments);return d===o?s:d},s}const Qn=Math.PI,Kn=2*Qn,At=1e-6,ql=Kn-At;function ao(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Xl(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return ao;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Zl{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?ao:Xl(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,l=this._y1,s=r-e,u=i-n,f=a-e,c=l-n,h=f*f+c*c;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>At)if(!(Math.abs(c*s-u*f)>At)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let g=r-a,m=i-l,v=s*s+u*u,d=g*g+m*m,_=Math.sqrt(v),w=Math.sqrt(h),p=o*Math.tan((Qn-Math.acos((v+h-d)/(2*_*w)))/2),b=p/w,M=p/_;Math.abs(b-1)>At&&this._append`L${e+b*f},${n+b*c}`,this._append`A${o},${o},0,0,${+(c*g>f*m)},${this._x1=e+M*s},${this._y1=n+M*u}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),s=r*Math.sin(i),u=e+l,f=n+s,c=1^a,h=a?i-o:o-i;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>At||Math.abs(this._y1-f)>At)&&this._append`L${u},${f}`,r&&(h<0&&(h=h%Kn+Kn),h>ql?this._append`A${r},${r},0,1,${c},${e-l},${n-s}A${r},${r},0,1,${c},${this._x1=u},${this._y1=f}`:h>At&&this._append`A${r},${r},0,${+(h>=Qn)},${c},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}var Jr={},$n={},Sn=34,fe=10,An=13;function uo(t){return new Function("d","return {"+t.map(function(e,n){return JSON.stringify(e)+": d["+n+'] || ""'}).join(",")+"}")}function Gl(t,e){var n=uo(t);return function(r,i){return e(n(r),i,t)}}function jr(t){var e=Object.create(null),n=[];return t.forEach(function(r){for(var i in r)i in e||n.push(e[i]=i)}),n}function at(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function Ql(t){return t<0?"-"+at(-t,6):t>9999?"+"+at(t,6):at(t,4)}function Kl(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":Ql(t.getUTCFullYear())+"-"+at(t.getUTCMonth()+1,2)+"-"+at(t.getUTCDate(),2)+(i?"T"+at(e,2)+":"+at(n,2)+":"+at(r,2)+"."+at(i,3)+"Z":r?"T"+at(e,2)+":"+at(n,2)+":"+at(r,2)+"Z":n||e?"T"+at(e,2)+":"+at(n,2)+"Z":"")}function Jl(t){var e=new RegExp('["'+t+`
\r]`),n=t.charCodeAt(0);function r(c,h){var g,m,v=i(c,function(d,_){if(g)return g(d,_-1);m=d,g=h?Gl(d,h):uo(d)});return v.columns=m||[],v}function i(c,h){var g=[],m=c.length,v=0,d=0,_,w=m<=0,p=!1;c.charCodeAt(m-1)===fe&&--m,c.charCodeAt(m-1)===An&&--m;function b(){if(w)return $n;if(p)return p=!1,Jr;var x,$=v,D;if(c.charCodeAt($)===Sn){for(;v++<m&&c.charCodeAt(v)!==Sn||c.charCodeAt(++v)===Sn;);return(x=v)>=m?w=!0:(D=c.charCodeAt(v++))===fe?p=!0:D===An&&(p=!0,c.charCodeAt(v)===fe&&++v),c.slice($+1,x-1).replace(/""/g,'"')}for(;v<m;){if((D=c.charCodeAt(x=v++))===fe)p=!0;else if(D===An)p=!0,c.charCodeAt(v)===fe&&++v;else if(D!==n)continue;return c.slice($,x)}return w=!0,c.slice($,m)}for(;(_=b())!==$n;){for(var M=[];_!==Jr&&_!==$n;)M.push(_),_=b();h&&(M=h(M,d++))==null||g.push(M)}return g}function o(c,h){return c.map(function(g){return h.map(function(m){return f(g[m])}).join(t)})}function a(c,h){return h==null&&(h=jr(c)),[h.map(f).join(t)].concat(o(c,h)).join(`
`)}function l(c,h){return h==null&&(h=jr(c)),o(c,h).join(`
`)}function s(c){return c.map(u).join(`
`)}function u(c){return c.map(f).join(t)}function f(c){return c==null?"":c instanceof Date?Kl(c):e.test(c+="")?'"'+c.replace(/"/g,'""')+'"':c}return{parse:r,parseRows:i,format:a,formatBody:l,formatRows:s,formatRow:u,formatValue:f}}var jl=Jl(","),tc=jl.parse;function ec(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function nc(t,e){return fetch(t,e).then(ec)}function rc(t){return function(e,n,r){return arguments.length===2&&typeof n=="function"&&(r=n,n=void 0),nc(e,n).then(function(i){return t(i,r)})}}var gr=rc(tc);function ic(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function rn(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function ie(t){return t=rn(Math.abs(t)),t?t[1]:NaN}function oc(t,e){return function(n,r){for(var i=n.length,o=[],a=0,l=t[0],s=0;i>0&&l>0&&(s+l+1>r&&(l=Math.max(1,r-s)),o.push(n.substring(i-=l,i+l)),!((s+=l+1)>r));)l=t[a=(a+1)%t.length];return o.reverse().join(e)}}function ac(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var uc=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function on(t){if(!(e=uc.exec(t)))throw new Error("invalid format: "+t);var e;return new dr({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}on.prototype=dr.prototype;function dr(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}dr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function sc(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var so;function lc(t,e){var n=rn(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(so=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+rn(t,Math.max(0,e+o-1))[0]}function ti(t,e){var n=rn(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const ei={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:ic,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>ti(t*100,e),r:ti,s:lc,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function ni(t){return t}var ri=Array.prototype.map,ii=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function cc(t){var e=t.grouping===void 0||t.thousands===void 0?ni:oc(ri.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?ni:ac(ri.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",s=t.nan===void 0?"NaN":t.nan+"";function u(c){c=on(c);var h=c.fill,g=c.align,m=c.sign,v=c.symbol,d=c.zero,_=c.width,w=c.comma,p=c.precision,b=c.trim,M=c.type;M==="n"?(w=!0,M="g"):ei[M]||(p===void 0&&(p=12),b=!0,M="g"),(d||h==="0"&&g==="=")&&(d=!0,h="0",g="=");var x=v==="$"?n:v==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",$=v==="$"?r:/[%p]/.test(M)?a:"",D=ei[M],H=/[defgprs%]/.test(M);p=p===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,p)):Math.max(0,Math.min(20,p));function A(T){var k=x,N=$,I,st,V;if(M==="c")N=D(T)+N,T="";else{T=+T;var z=T<0||1/T<0;if(T=isNaN(T)?s:D(Math.abs(T),p),b&&(T=sc(T)),z&&+T==0&&m!=="+"&&(z=!1),k=(z?m==="("?m:l:m==="-"||m==="("?"":m)+k,N=(M==="s"?ii[8+so/3]:"")+N+(z&&m==="("?")":""),H){for(I=-1,st=T.length;++I<st;)if(V=T.charCodeAt(I),48>V||V>57){N=(V===46?i+T.slice(I+1):T.slice(I))+N,T=T.slice(0,I);break}}}w&&!d&&(T=e(T,1/0));var rt=k.length+T.length+N.length,Y=rt<_?new Array(_-rt+1).join(h):"";switch(w&&d&&(T=e(Y+T,Y.length?_-N.length:1/0),Y=""),g){case"<":T=k+T+N+Y;break;case"=":T=k+Y+T+N;break;case"^":T=Y.slice(0,rt=Y.length>>1)+k+T+N+Y.slice(rt);break;default:T=Y+k+T+N;break}return o(T)}return A.toString=function(){return c+""},A}function f(c,h){var g=u((c=on(c),c.type="f",c)),m=Math.max(-8,Math.min(8,Math.floor(ie(h)/3)))*3,v=Math.pow(10,-m),d=ii[8+m/3];return function(_){return g(v*_)+d}}return{format:u,formatPrefix:f}}var Ye,lo,co;fc({thousands:",",grouping:[3],currency:["$",""]});function fc(t){return Ye=cc(t),lo=Ye.format,co=Ye.formatPrefix,Ye}function hc(t){return Math.max(0,-ie(Math.abs(t)))}function gc(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ie(e)/3)))*3-ie(Math.abs(t)))}function dc(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,ie(e)-ie(t))+1}function dn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}const oi=Symbol("implicit");function pr(){var t=new Pn,e=[],n=[],r=oi;function i(o){let a=t.get(o);if(a===void 0){if(r!==oi)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new Pn;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return pr(e,n).unknown(r)},dn.apply(i,arguments),i}function fo(){var t=pr().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,l=!1,s=0,u=0,f=.5;delete t.unknown;function c(){var h=e().length,g=i<r,m=g?i:r,v=g?r:i;o=(v-m)/Math.max(1,h-s+u*2),l&&(o=Math.floor(o)),m+=(v-m-o*(h-s))*f,a=o*(1-s),l&&(m=Math.round(m),a=Math.round(a));var d=ua(h).map(function(_){return m+o*_});return n(g?d.reverse():d)}return t.domain=function(h){return arguments.length?(e(h),c()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,c()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,l=!0,c()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(h){return arguments.length?(l=!!h,c()):l},t.padding=function(h){return arguments.length?(s=Math.min(1,u=+h),c()):s},t.paddingInner=function(h){return arguments.length?(s=Math.min(1,h),c()):s},t.paddingOuter=function(h){return arguments.length?(u=+h,c()):u},t.align=function(h){return arguments.length?(f=Math.max(0,Math.min(1,h)),c()):f},t.copy=function(){return fo(e(),[r,i]).round(l).paddingInner(s).paddingOuter(u).align(f)},dn.apply(c(),arguments)}function pc(t){return function(){return t}}function mc(t){return+t}var ai=[0,1];function Zt(t){return t}function Jn(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:pc(isNaN(e)?NaN:.5)}function yc(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function _c(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=Jn(i,r),o=n(a,o)):(r=Jn(r,i),o=n(o,a)),function(l){return o(r(l))}}function wc(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=Jn(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(l){var s=Qo(t,l,1,r)-1;return o[s](i[s](l))}}function ho(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function vc(){var t=ai,e=ai,n=fn,r,i,o,a=Zt,l,s,u;function f(){var h=Math.min(t.length,e.length);return a!==Zt&&(a=yc(t[0],t[h-1])),l=h>2?wc:_c,s=u=null,c}function c(h){return h==null||isNaN(h=+h)?o:(s||(s=l(t.map(r),e,n)))(r(a(h)))}return c.invert=function(h){return a(i((u||(u=l(e,t.map(r),ht)))(h)))},c.domain=function(h){return arguments.length?(t=Array.from(h,mc),f()):t.slice()},c.range=function(h){return arguments.length?(e=Array.from(h),f()):e.slice()},c.rangeRound=function(h){return e=Array.from(h),n=vs,f()},c.clamp=function(h){return arguments.length?(a=h?!0:Zt,f()):a!==Zt},c.interpolate=function(h){return arguments.length?(n=h,f()):n},c.unknown=function(h){return arguments.length?(o=h,c):o},function(h,g){return r=h,i=g,f()}}function go(){return vc()(Zt,Zt)}function xc(t,e,n,r){var i=Ln(t,e,n),o;switch(r=on(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=gc(i,a))&&(r.precision=o),co(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=dc(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=hc(i))&&(r.precision=o-(r.type==="%")*2);break}}return lo(r)}function bc(t){var e=t.domain;return t.ticks=function(n){var r=e();return aa(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return xc(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],l=r[o],s,u,f=10;for(l<a&&(u=a,a=l,l=u,u=i,i=o,o=u);f-- >0;){if(u=Yn(a,l,n),u===s)return r[i]=a,r[o]=l,e(r);if(u>0)a=Math.floor(a/u)*u,l=Math.ceil(l/u)*u;else if(u<0)a=Math.ceil(a*u)/u,l=Math.floor(l*u)/u;else break;s=u}return t},t}function ee(){var t=go();return t.copy=function(){return ho(t,ee())},dn.apply(t,arguments),bc(t)}function Mc(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}const Dn=new Date,Nn=new Date;function G(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),l=i.ceil(o);return o-a<l-o?a:l},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,l)=>{const s=[];if(o=i.ceil(o),l=l==null?1:Math.floor(l),!(o<a)||!(l>0))return s;let u;do s.push(u=new Date(+o)),e(o,l),t(o);while(u<o&&o<a);return s},i.filter=o=>G(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,l)=>{if(a>=a)if(l<0)for(;++l<=0;)for(;e(a,-1),!o(a););else for(;--l>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(Dn.setTime(+o),Nn.setTime(+a),t(Dn),t(Nn),Math.floor(n(Dn,Nn))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const an=G(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);an.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?G(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):an);an.range;const vt=1e3,ft=vt*60,xt=ft*60,Mt=xt*24,mr=Mt*7,ui=Mt*30,Rn=Mt*365,Gt=G(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*vt)},(t,e)=>(e-t)/vt,t=>t.getUTCSeconds());Gt.range;const yr=G(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*vt)},(t,e)=>{t.setTime(+t+e*ft)},(t,e)=>(e-t)/ft,t=>t.getMinutes());yr.range;const Tc=G(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ft)},(t,e)=>(e-t)/ft,t=>t.getUTCMinutes());Tc.range;const _r=G(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*vt-t.getMinutes()*ft)},(t,e)=>{t.setTime(+t+e*xt)},(t,e)=>(e-t)/xt,t=>t.getHours());_r.range;const Cc=G(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*xt)},(t,e)=>(e-t)/xt,t=>t.getUTCHours());Cc.range;const Ue=G(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ft)/Mt,t=>t.getDate()-1);Ue.range;const wr=G(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Mt,t=>t.getUTCDate()-1);wr.range;const kc=G(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Mt,t=>Math.floor(t/Mt));kc.range;function Pt(t){return G(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ft)/mr)}const pn=Pt(0),un=Pt(1),$c=Pt(2),Sc=Pt(3),oe=Pt(4),Ac=Pt(5),Dc=Pt(6);pn.range;un.range;$c.range;Sc.range;oe.range;Ac.range;Dc.range;function Yt(t){return G(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/mr)}const po=Yt(0),sn=Yt(1),Nc=Yt(2),Rc=Yt(3),ae=Yt(4),Uc=Yt(5),Ec=Yt(6);po.range;sn.range;Nc.range;Rc.range;ae.range;Uc.range;Ec.range;const vr=G(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());vr.range;const Fc=G(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Fc.range;const Tt=G(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Tt.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:G(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Tt.range;const Ft=G(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ft.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:G(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ft.range;function Pc(t,e,n,r,i,o){const a=[[Gt,1,vt],[Gt,5,5*vt],[Gt,15,15*vt],[Gt,30,30*vt],[o,1,ft],[o,5,5*ft],[o,15,15*ft],[o,30,30*ft],[i,1,xt],[i,3,3*xt],[i,6,6*xt],[i,12,12*xt],[r,1,Mt],[r,2,2*Mt],[n,1,mr],[e,1,ui],[e,3,3*ui],[t,1,Rn]];function l(u,f,c){const h=f<u;h&&([u,f]=[f,u]);const g=c&&typeof c.range=="function"?c:s(u,f,c),m=g?g.range(u,+f+1):[];return h?m.reverse():m}function s(u,f,c){const h=Math.abs(f-u)/c,g=nr(([,,d])=>d).right(a,h);if(g===a.length)return t.every(Ln(u/Rn,f/Rn,c));if(g===0)return an.every(Math.max(Ln(u,f,c),1));const[m,v]=a[h/a[g-1][2]<a[g][2]/h?g-1:g];return m.every(v)}return[l,s]}const[Yc,Lc]=Pc(Tt,vr,pn,Ue,_r,yr);function Un(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function En(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function he(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Hc(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,l=t.months,s=t.shortMonths,u=ge(i),f=de(i),c=ge(o),h=de(o),g=ge(a),m=de(a),v=ge(l),d=de(l),_=ge(s),w=de(s),p={a:z,A:rt,b:Y,B:Z,c:null,d:gi,e:gi,f:lf,g:wf,G:xf,H:af,I:uf,j:sf,L:mo,m:cf,M:ff,p:q,q:X,Q:mi,s:yi,S:hf,u:gf,U:df,V:pf,w:mf,W:yf,x:null,X:null,y:_f,Y:vf,Z:bf,"%":pi},b={a:se,A:Lt,b:Ht,B:It,c:null,d:di,e:di,f:kf,g:Pf,G:Lf,H:Mf,I:Tf,j:Cf,L:_o,m:$f,M:Sf,p:J,q:St,Q:mi,s:yi,S:Af,u:Df,U:Nf,V:Rf,w:Uf,W:Ef,x:null,X:null,y:Ff,Y:Yf,Z:Hf,"%":pi},M={a:A,A:T,b:k,B:N,c:I,d:fi,e:fi,f:ef,g:ci,G:li,H:hi,I:hi,j:Kc,L:tf,m:Qc,M:Jc,p:H,q:Gc,Q:rf,s:of,S:jc,u:Wc,U:Bc,V:qc,w:zc,W:Xc,x:st,X:V,y:ci,Y:li,Z:Zc,"%":nf};p.x=x(n,p),p.X=x(r,p),p.c=x(e,p),b.x=x(n,b),b.X=x(r,b),b.c=x(e,b);function x(C,R){return function(E){var y=[],W=-1,L=0,it=C.length,ot,S,B;for(E instanceof Date||(E=new Date(+E));++W<it;)C.charCodeAt(W)===37&&(y.push(C.slice(L,W)),(S=si[ot=C.charAt(++W)])!=null?ot=C.charAt(++W):S=ot==="e"?" ":"0",(B=R[ot])&&(ot=B(E,S)),y.push(ot),L=W+1);return y.push(C.slice(L,W)),y.join("")}}function $(C,R){return function(E){var y=he(1900,void 0,1),W=D(y,C,E+="",0),L,it;if(W!=E.length)return null;if("Q"in y)return new Date(y.Q);if("s"in y)return new Date(y.s*1e3+("L"in y?y.L:0));if(R&&!("Z"in y)&&(y.Z=0),"p"in y&&(y.H=y.H%12+y.p*12),y.m===void 0&&(y.m="q"in y?y.q:0),"V"in y){if(y.V<1||y.V>53)return null;"w"in y||(y.w=1),"Z"in y?(L=En(he(y.y,0,1)),it=L.getUTCDay(),L=it>4||it===0?sn.ceil(L):sn(L),L=wr.offset(L,(y.V-1)*7),y.y=L.getUTCFullYear(),y.m=L.getUTCMonth(),y.d=L.getUTCDate()+(y.w+6)%7):(L=Un(he(y.y,0,1)),it=L.getDay(),L=it>4||it===0?un.ceil(L):un(L),L=Ue.offset(L,(y.V-1)*7),y.y=L.getFullYear(),y.m=L.getMonth(),y.d=L.getDate()+(y.w+6)%7)}else("W"in y||"U"in y)&&("w"in y||(y.w="u"in y?y.u%7:"W"in y?1:0),it="Z"in y?En(he(y.y,0,1)).getUTCDay():Un(he(y.y,0,1)).getDay(),y.m=0,y.d="W"in y?(y.w+6)%7+y.W*7-(it+5)%7:y.w+y.U*7-(it+6)%7);return"Z"in y?(y.H+=y.Z/100|0,y.M+=y.Z%100,En(y)):Un(y)}}function D(C,R,E,y){for(var W=0,L=R.length,it=E.length,ot,S;W<L;){if(y>=it)return-1;if(ot=R.charCodeAt(W++),ot===37){if(ot=R.charAt(W++),S=M[ot in si?R.charAt(W++):ot],!S||(y=S(C,E,y))<0)return-1}else if(ot!=E.charCodeAt(y++))return-1}return y}function H(C,R,E){var y=u.exec(R.slice(E));return y?(C.p=f.get(y[0].toLowerCase()),E+y[0].length):-1}function A(C,R,E){var y=g.exec(R.slice(E));return y?(C.w=m.get(y[0].toLowerCase()),E+y[0].length):-1}function T(C,R,E){var y=c.exec(R.slice(E));return y?(C.w=h.get(y[0].toLowerCase()),E+y[0].length):-1}function k(C,R,E){var y=_.exec(R.slice(E));return y?(C.m=w.get(y[0].toLowerCase()),E+y[0].length):-1}function N(C,R,E){var y=v.exec(R.slice(E));return y?(C.m=d.get(y[0].toLowerCase()),E+y[0].length):-1}function I(C,R,E){return D(C,e,R,E)}function st(C,R,E){return D(C,n,R,E)}function V(C,R,E){return D(C,r,R,E)}function z(C){return a[C.getDay()]}function rt(C){return o[C.getDay()]}function Y(C){return s[C.getMonth()]}function Z(C){return l[C.getMonth()]}function q(C){return i[+(C.getHours()>=12)]}function X(C){return 1+~~(C.getMonth()/3)}function se(C){return a[C.getUTCDay()]}function Lt(C){return o[C.getUTCDay()]}function Ht(C){return s[C.getUTCMonth()]}function It(C){return l[C.getUTCMonth()]}function J(C){return i[+(C.getUTCHours()>=12)]}function St(C){return 1+~~(C.getUTCMonth()/3)}return{format:function(C){var R=x(C+="",p);return R.toString=function(){return C},R},parse:function(C){var R=$(C+="",!1);return R.toString=function(){return C},R},utcFormat:function(C){var R=x(C+="",b);return R.toString=function(){return C},R},utcParse:function(C){var R=$(C+="",!0);return R.toString=function(){return C},R}}}var si={"-":"",_:" ",0:"0"},Q=/^\s*\d+/,Ic=/^%/,Oc=/[\\^$*+?|[\]().{}]/g;function F(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Vc(t){return t.replace(Oc,"\\$&")}function ge(t){return new RegExp("^(?:"+t.map(Vc).join("|")+")","i")}function de(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function zc(t,e,n){var r=Q.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Wc(t,e,n){var r=Q.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Bc(t,e,n){var r=Q.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function qc(t,e,n){var r=Q.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Xc(t,e,n){var r=Q.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function li(t,e,n){var r=Q.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function ci(t,e,n){var r=Q.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Zc(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Gc(t,e,n){var r=Q.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Qc(t,e,n){var r=Q.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function fi(t,e,n){var r=Q.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Kc(t,e,n){var r=Q.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function hi(t,e,n){var r=Q.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Jc(t,e,n){var r=Q.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function jc(t,e,n){var r=Q.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function tf(t,e,n){var r=Q.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function ef(t,e,n){var r=Q.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function nf(t,e,n){var r=Ic.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function rf(t,e,n){var r=Q.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function of(t,e,n){var r=Q.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function gi(t,e){return F(t.getDate(),e,2)}function af(t,e){return F(t.getHours(),e,2)}function uf(t,e){return F(t.getHours()%12||12,e,2)}function sf(t,e){return F(1+Ue.count(Tt(t),t),e,3)}function mo(t,e){return F(t.getMilliseconds(),e,3)}function lf(t,e){return mo(t,e)+"000"}function cf(t,e){return F(t.getMonth()+1,e,2)}function ff(t,e){return F(t.getMinutes(),e,2)}function hf(t,e){return F(t.getSeconds(),e,2)}function gf(t){var e=t.getDay();return e===0?7:e}function df(t,e){return F(pn.count(Tt(t)-1,t),e,2)}function yo(t){var e=t.getDay();return e>=4||e===0?oe(t):oe.ceil(t)}function pf(t,e){return t=yo(t),F(oe.count(Tt(t),t)+(Tt(t).getDay()===4),e,2)}function mf(t){return t.getDay()}function yf(t,e){return F(un.count(Tt(t)-1,t),e,2)}function _f(t,e){return F(t.getFullYear()%100,e,2)}function wf(t,e){return t=yo(t),F(t.getFullYear()%100,e,2)}function vf(t,e){return F(t.getFullYear()%1e4,e,4)}function xf(t,e){var n=t.getDay();return t=n>=4||n===0?oe(t):oe.ceil(t),F(t.getFullYear()%1e4,e,4)}function bf(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+F(e/60|0,"0",2)+F(e%60,"0",2)}function di(t,e){return F(t.getUTCDate(),e,2)}function Mf(t,e){return F(t.getUTCHours(),e,2)}function Tf(t,e){return F(t.getUTCHours()%12||12,e,2)}function Cf(t,e){return F(1+wr.count(Ft(t),t),e,3)}function _o(t,e){return F(t.getUTCMilliseconds(),e,3)}function kf(t,e){return _o(t,e)+"000"}function $f(t,e){return F(t.getUTCMonth()+1,e,2)}function Sf(t,e){return F(t.getUTCMinutes(),e,2)}function Af(t,e){return F(t.getUTCSeconds(),e,2)}function Df(t){var e=t.getUTCDay();return e===0?7:e}function Nf(t,e){return F(po.count(Ft(t)-1,t),e,2)}function wo(t){var e=t.getUTCDay();return e>=4||e===0?ae(t):ae.ceil(t)}function Rf(t,e){return t=wo(t),F(ae.count(Ft(t),t)+(Ft(t).getUTCDay()===4),e,2)}function Uf(t){return t.getUTCDay()}function Ef(t,e){return F(sn.count(Ft(t)-1,t),e,2)}function Ff(t,e){return F(t.getUTCFullYear()%100,e,2)}function Pf(t,e){return t=wo(t),F(t.getUTCFullYear()%100,e,2)}function Yf(t,e){return F(t.getUTCFullYear()%1e4,e,4)}function Lf(t,e){var n=t.getUTCDay();return t=n>=4||n===0?ae(t):ae.ceil(t),F(t.getUTCFullYear()%1e4,e,4)}function Hf(){return"+0000"}function pi(){return"%"}function mi(t){return+t}function yi(t){return Math.floor(+t/1e3)}var Bt,vo,jn;If({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function If(t){return Bt=Hc(t),vo=Bt.format,jn=Bt.parse,Bt.utcFormat,Bt.utcParse,Bt}function Of(t){return new Date(t)}function Vf(t){return t instanceof Date?+t:+new Date(+t)}function xo(t,e,n,r,i,o,a,l,s,u){var f=go(),c=f.invert,h=f.domain,g=u(".%L"),m=u(":%S"),v=u("%I:%M"),d=u("%I %p"),_=u("%a %d"),w=u("%b %d"),p=u("%B"),b=u("%Y");function M(x){return(s(x)<x?g:l(x)<x?m:a(x)<x?v:o(x)<x?d:r(x)<x?i(x)<x?_:w:n(x)<x?p:b)(x)}return f.invert=function(x){return new Date(c(x))},f.domain=function(x){return arguments.length?h(Array.from(x,Vf)):h().map(Of)},f.ticks=function(x){var $=h();return t($[0],$[$.length-1],x??10)},f.tickFormat=function(x,$){return $==null?M:u($)},f.nice=function(x){var $=h();return(!x||typeof x.range!="function")&&(x=e($[0],$[$.length-1],x??10)),x?h(Mc($,x)):f},f.copy=function(){return ho(f,xo(t,e,n,r,i,o,a,l,s,u))},f}function zf(){return dn.apply(xo(Yc,Lc,Tt,vr,pn,Ue,_r,yr,Gt,vo).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function qt(t){return function(){return t}}function Wf(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Zl(e)}function Bf(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function bo(t){this._context=t}bo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function qf(t){return new bo(t)}function Xf(t){return t[0]}function Zf(t){return t[1]}function Gf(t,e){var n=qt(!0),r=null,i=qf,o=null,a=Wf(l);t=typeof t=="function"?t:t===void 0?Xf:qt(t),e=typeof e=="function"?e:e===void 0?Zf:qt(e);function l(s){var u,f=(s=Bf(s)).length,c,h=!1,g;for(r==null&&(o=i(g=a())),u=0;u<=f;++u)!(u<f&&n(c=s[u],u,s))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(c,u,s),+e(c,u,s));if(g)return o=null,g+""||null}return l.x=function(s){return arguments.length?(t=typeof s=="function"?s:qt(+s),l):t},l.y=function(s){return arguments.length?(e=typeof s=="function"?s:qt(+s),l):e},l.defined=function(s){return arguments.length?(n=typeof s=="function"?s:qt(!!s),l):n},l.curve=function(s){return arguments.length?(i=s,r!=null&&(o=i(r)),l):i},l.context=function(s){return arguments.length?(s==null?r=o=null:o=i(r=s),l):r},l}function _e(t,e,n){this.k=t,this.x=e,this.y=n}_e.prototype={constructor:_e,scale:function(t){return t===1?this:new _e(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new _e(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};_e.prototype;function _i(t,e,n){const r=t.slice();return r[12]=e[n],r}function wi(t){let e,n,r,i=Xe(t[3]),o=[];for(let a=0;a<i.length;a+=1)o[a]=vi(_i(t,i,a));return{c(){e=O("select");for(let a=0;a<o.length;a+=1)o[a].c();P(e,"class","svelte-1av14wf"),t[1]===void 0&&qe(()=>t[8].call(e))},m(a,l){lt(a,e,l);for(let s=0;s<o.length;s+=1)o[s]&&o[s].m(e,null);Mr(e,t[1],!0),n||(r=tr(e,"change",t[8]),n=!0)},p(a,l){if(l&8){i=Xe(a[3]);let s;for(s=0;s<i.length;s+=1){const u=_i(a,i,s);o[s]?o[s].p(u,l):(o[s]=vi(u),o[s].c(),o[s].m(e,null))}for(;s<o.length;s+=1)o[s].d(1);o.length=i.length}l&10&&Mr(e,a[1])},d(a){a&&nt(e),Si(o,a),n=!1,r()}}}function vi(t){let e,n=t[12]+"",r,i;return{c(){e=O("option"),r=Me(n),i=et(),e.__value=t[12],No(e,e.__value)},m(o,a){lt(o,e,a),U(e,r),U(e,i)},p:K,d(o){o&&nt(e)}}}function Qf(t){let e,n,r,i=t[0]&&wi(t);return{c(){e=O("div"),n=O("div"),r=et(),i&&i.c(),P(n,"id","main"),P(e,"class","wrapper")},m(o,a){lt(o,e,a),U(e,n),t[7](n),U(e,r),i&&i.m(e,null)},p(o,[a]){o[0]?i?i.p(o,a):(i=wi(o),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},i:K,o:K,d(o){o&&nt(e),t[7](null),i&&i.d()}}}function Kf(t,e,n){let r,i;So(t,Di,v=>n(6,i=v));let{dropDown:o}=e,{useStore:a}=e,l;const s=["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854"],u=["Data.Rates.Property.All","Data.Rates.Property.Burglary","Data.Rates.Property.Larceny","Data.Rates.Property.Motor","Data.Rates.Violent.All","Data.Rates.Violent.Assault","Data.Rates.Violent.Murder","Data.Rates.Violent.Rape","Data.Rates.Violent.Robbery"],f={"Data.Rates.Property.All":"Total Average Crime Rate","Data.Rates.Property.Burglary":"Total Average Burglary Rate","Data.Rates.Property.Larceny":"Total Average Larceny Rate","Data.Rates.Property.Motor":"Total Average Motor Rate","Data.Rates.Violent.All":"Total Average Violent Crime Rate","Data.Rates.Violent.Assault":"Total Average Violent Assault Rate","Data.Rates.Violent.Murder":"Total Average Violent Murder Rate","Data.Rates.Violent.Rape":"Total Average Violent Rape Rate","Data.Rates.Violent.Robbery":"Total Average Violent Robbery Rate"};let c=u[0];const h=(v,d)=>{var _=pt(l);_.selectAll("*").remove();const w=_.append("svg").attr("width",Wo).attr("height",Bo+50);gr("https://raw.githubusercontent.com/fuyuGT/CS7450-data/main/state_crime.csv").then(function(p){const b=Ni(p,k=>Ui(k,N=>+N[v]),k=>k.State,k=>k.Year),M=500,x=400;let $=w.append("g").attr("transform","translate(100,50)");const D=zf().domain(Ko(p,k=>jn("%Y")(k.Year))).range([0,M]);$.append("g").attr("transform",`translate(0, ${x})`).call(rr(D)),$.append("text").attr("transform",`translate(${M/2}, ${x+40})`).text("Year");const H=ee().domain([Ri(p,k=>+k[v]),be(p,k=>+k[v])]).range([x,0]);$.append("g").call(ir(H)),$.append("text").attr("transform","rotate(-90)").attr("y",-45).attr("x",0-x/2).text(f[v]);let A=Gf().x(k=>D(jn("%Y")(k[0]))).y(k=>H(k[1]));var T=pr().domain(d).range(s);d.forEach((k,N)=>{$.append("path").datum(b.get(k)).attr("fill","none").attr("stroke",T(k)).attr("stroke-width",2.5).attr("d",A)}),$.selectAll(".legend").data(d).enter().append("g").attr("class","legend").attr("transform",(k,N)=>`translate(0, ${N*20})`).append("text").attr("x",M+20).attr("y",9).attr("dy",".35em").style("text-anchor","start").text(k=>k).attr("fill",k=>T(k)),$.selectAll(".legend-circle").data(d).enter().append("circle").attr("cx",M+10).attr("cy",(k,N)=>N*20+10).attr("r",4).style("fill",k=>T(k))})};er(()=>h(c,r));function g(v){Ce[v?"unshift":"push"](()=>{l=v,n(2,l)})}function m(){c=Ro(this),n(1,c),n(3,u)}return t.$$set=v=>{"dropDown"in v&&n(0,o=v.dropDown),"useStore"in v&&n(4,a=v.useStore)},t.$$.update=()=>{t.$$.dirty&80&&i!=null&&a&&n(5,r=i),t.$$.dirty&34&&h(c,r)},n(5,r=["California","Colorado","Florida","Georgia","Indiana"]),[o,c,l,u,a,r,i,g,m]}class Mo extends De{constructor(e){super(),Ae(this,e,Kf,Qf,ue,{dropDown:0,useStore:4})}}function Jf(t){let e,n;return{c(){e=O("div"),n=O("div"),P(n,"id","main"),P(e,"class","wrapper")},m(r,i){lt(r,e,i),U(e,n),t[3](n)},p:K,i:K,o:K,d(r){r&&nt(e),t[3](null)}}}const Le=200,xi=800;function jf(t,e,n){let r,i,o,a;const l=h=>{const g=o.domain(),m=o(g[0]),v=o.step(),d=Math.floor((h-m)/v);return Math.max(0,Math.min(d,g.length-1))};let s,u=[];const f=h=>{var g=pt(i);g.selectAll("*").remove();const m=g.append("svg").attr("width",Cr+kt.left+kt.right).attr("height",kr+kt.top+kt.bottom);gr("https://raw.githubusercontent.com/fuyuGT/CS7450-data/main/state_crime.csv").then(function(v){let d=m.append("g").attr("transform","translate(100,50)");s=Ni(v,w=>Ui(w,p=>+p["Data.Rates.Violent.Murder"]),w=>w.State),u.length==0&&n(1,u=[...s.keys()]),o=fo().range([0,xi]).domain(v.map(w=>w.State)).padding(.2);let _=be(s.values());a=ee().domain([0,_]).range([Le,0]),d.selectAll(".myBar").data(s).enter().append("rect").attr("class","myBar").attr("x",w=>o(w[0])).attr("y",w=>a(w[1])).attr("width",o.bandwidth()).attr("height",w=>Le-a(w[1])).attr("fill","#8da0cb"),d.append("g").attr("transform",`translate(0, ${Le})`).call(rr(o)).selectAll("text").attr("transform","translate(-10,0)rotate(-45)").style("text-anchor","end"),d.append("text").attr("class","my-axis-label").attr("transform",`translate(${xi/2}, ${Le+75})`).text("States"),d.append("g").call(ir(a)),d.append("text").attr("class","my-axis-label").attr("transform","translate(-40,165)rotate(-90)").text("Average Murder Rate"),d.append("text").attr("class","my-title").attr("transform","translate(200,-10)").text("Average Murder Rate Across States from 1960 to 2015"),d.append("g").call(h).call(h.move,[0,100])})};er(()=>f(r));function c(h){Ce[h?"unshift":"push"](()=>{i=h,n(0,i)})}return t.$$.update=()=>{t.$$.dirty&2&&n(2,r=Wl().extent([[0,0],[Cr,kr]]).on("start brush end",h=>{if(h.selection){const g=h.selection.map(l);Di.set(u.slice(g[0],g[1]))}})),t.$$.dirty&4&&r&&f(r)},[i,u,r,c]}class th extends De{constructor(e){super(),Ae(this,e,jf,Jf,ue,{})}}function eh(t){let e,n,r,i,o;return n=new th({}),i=new Mo({props:{dropDown:!1,useStore:!0}}),{c(){e=O("div"),xe(n.$$.fragment),r=et(),xe(i.$$.fragment),P(e,"class","svelte-k5pud2")},m(a,l){lt(a,e,l),Jt(n,e,null),U(e,r),Jt(i,e,null),o=!0},p:K,i(a){o||(Kt(n.$$.fragment,a),Kt(i.$$.fragment,a),o=!0)},o(a){ve(n.$$.fragment,a),ve(i.$$.fragment,a),o=!1},d(a){a&&nt(e),jt(n),jt(i)}}}class nh extends De{constructor(e){super(),Ae(this,e,null,eh,ue,{})}}function bi(t,e,n){const r=t.slice();return r[10]=e[n],r}function Mi(t){let e,n,r,i,o,a,l,s=Xe(t[0]),u=[];for(let c=0;c<s.length;c+=1)u[c]=Ti(bi(t,s,c));let f=t[5]&&Ci(t);return{c(){e=He("svg"),n=He("g"),r=He("g");for(let c=0;c<u.length;c+=1)u[c].c();i=et(),f&&f.c(),o=Ao(),P(r,"class","myCircles"),P(n,"transform","translate(100,50)"),P(e,"width",Vo+$t.left+$t.right),P(e,"height",zo+$t.top+$t.bottom),Dt(e,"position","relative")},m(c,h){lt(c,e,h),U(e,n),U(n,r);for(let g=0;g<u.length;g+=1)u[g]&&u[g].m(r,null);t[8](e),lt(c,i,h),f&&f.m(c,h),lt(c,o,h),a||(l=tr(e,"mouseleave",t[9]),a=!0)},p(c,h){if(h&55){s=Xe(c[0]);let g;for(g=0;g<s.length;g+=1){const m=bi(c,s,g);u[g]?u[g].p(m,h):(u[g]=Ti(m),u[g].c(),u[g].m(r,null))}for(;g<u.length;g+=1)u[g].d(1);u.length=s.length}c[5]?f?f.p(c,h):(f=Ci(c),f.c(),f.m(o.parentNode,o)):f&&(f.d(1),f=null)},d(c){c&&(nt(e),nt(i),nt(o)),Si(u,c),t[8](null),f&&f.d(c),a=!1,l()}}}function Ti(t){let e,n,r,i,o,a;function l(){return t[7](t[10])}return{c(){e=He("circle"),P(e,"class","myCircles"),P(e,"cx",n=t[1](t[10]["Data.Rates.Property.Burglary"])),P(e,"cy",r=t[2](t[10]["Data.Rates.Property.Larceny"])),P(e,"r",i=t[4](t[10]["Data.Population"])*7e-4),P(e,"opacity","0.8"),Dt(e,"fill","#fc8d62")},m(s,u){lt(s,e,u),o||(a=tr(e,"mouseover",l),o=!0)},p(s,u){t=s,u&3&&n!==(n=t[1](t[10]["Data.Rates.Property.Burglary"]))&&P(e,"cx",n),u&5&&r!==(r=t[2](t[10]["Data.Rates.Property.Larceny"]))&&P(e,"cy",r),u&17&&i!==(i=t[4](t[10]["Data.Population"])*7e-4)&&P(e,"r",i)},d(s){s&&nt(e),o=!1,a()}}}function Ci(t){let e,n,r,i,o=t[5]["Data.Population"]+"",a,l,s,u,f,c=t[5].Year+"",h;return{c(){e=O("div"),n=O("p"),n.textContent="Population:",r=et(),i=O("b"),a=Me(o),l=et(),s=O("p"),s.textContent="Year:",u=et(),f=O("b"),h=Me(c),P(e,"class","tooltip svelte-cv36fs"),Dt(e,"position","absolute"),Dt(e,"top",t[2](t[5]["Data.Rates.Property.Larceny"])+"px"),Dt(e,"left",t[1](t[5]["Data.Rates.Property.Burglary"])+"px")},m(g,m){lt(g,e,m),U(e,n),U(e,r),U(e,i),U(i,a),U(e,l),U(e,s),U(e,u),U(e,f),U(f,h)},p(g,m){m&32&&o!==(o=g[5]["Data.Population"]+"")&&br(a,o),m&32&&c!==(c=g[5].Year+"")&&br(h,c),m&36&&Dt(e,"top",g[2](g[5]["Data.Rates.Property.Larceny"])+"px"),m&34&&Dt(e,"left",g[1](g[5]["Data.Rates.Property.Burglary"])+"px")},d(g){g&&nt(e)}}}function rh(t){let e,n=t[0]&&Mi(t);return{c(){e=O("div"),n&&n.c(),P(e,"class","wrapper svelte-cv36fs")},m(r,i){lt(r,e,i),n&&n.m(e,null)},p(r,[i]){r[0]?n?n.p(r,i):(n=Mi(r),n.c(),n.m(e,null)):n&&(n.d(1),n=null)},i:K,o:K,d(r){r&&nt(e),n&&n.d()}}}function ih(t,e,n){let r,i;er(async()=>{n(6,r=await gr("https://raw.githubusercontent.com/fuyuGT/CS7450-data/main/state_crime.csv"))});let o,a,l,s,u;const f=g=>{n(5,u=g)};function c(g){Ce[g?"unshift":"push"](()=>{s=g,n(3,s)})}const h=()=>{n(5,u=null)};return t.$$.update=()=>{if(t.$$.dirty&79&&r){n(0,i=r.filter(b=>b.State=="Georgia"));const g=400,m=750;let v=be(i.map(b=>+b["Data.Rates.Property.Burglary"])),d=be(i.map(b=>+b["Data.Rates.Property.Larceny"])),_=Ri(i.map(b=>+b["Data.Rates.Property.Larceny"]));n(1,o=ee().domain([0,v]).range([0,m])),n(2,a=ee().domain([_,d]).range([g,0]));let w=be(i.map(b=>+b["Data.Rates.Property.Burglary"]));n(4,l=ee().domain([0,w]).range([2.5,6]));const p=pt(s).selectAll(".myCircles");p.append("g").attr("transform",`translate(0, ${g})`).call(rr(o)),p.append("text").attr("class","my-axis-label").attr("transform",`translate(${m/3}, ${g+40})`).text("Larcency Rate"),p.append("g").call(ir(a)),p.append("text").attr("class","my-axis-label").attr("transform",`translate(-45,${g/2+50})rotate(-90)`).text("Burglary Rate"),p.append("text").attr("class","my-title").attr("transform","translate(120, -20)").text("Yearly Larcency Rate over Burglary Rate for Georgia"),p.append("text").attr("class","my-title").attr("transform","translate(120, 0)").text("(Size based on population)")}},[i,o,a,s,l,u,r,f,c,h]}class oh extends De{constructor(e){super(),Ae(this,e,ih,rh,ue,{})}}function ah(t){let e,n,r,i,o,a,l,s,u,f,c,h,g,m,v,d,_,w,p,b,M,x,$,D,H;return s=new Mo({props:{dropDown:!0,useStore:!1}}),v=new nh({}),x=new oh({}),{c(){e=O("meta"),n=O("html"),r=et(),i=O("div"),o=O("div"),a=O("h1"),a.textContent="Drop down / Color reconfiguration",l=et(),xe(s.$$.fragment),u=et(),f=O("p"),f.textContent=`By clicking the dropdown to the side, you can change which data property
      is displayed for California, Colorado, Florida, Georgia, and Indiana. You
      can see which datum is being represented by the column name`,c=et(),h=O("div"),g=O("h1"),g.textContent="Connect / Brushing and Linking",m=et(),xe(v.$$.fragment),d=et(),_=O("p"),_.textContent=`When you click and drag across the brush for the bar chart, you can change
      what is displayed in the line chart on the side. You can just to just see
      statistics for total crime rate for one state, a few states, or all states
      based on the width of the brush.`,w=et(),p=O("div"),b=O("h1"),b.textContent="Hovering / Clicking",M=et(),xe(x.$$.fragment),$=et(),D=O("p"),D.textContent=`When you hover over a datum, you will see a tooltip detailing the
      population and year for that specific point.`,document.title="Info Viz - HW3",P(e,"name","robots"),P(e,"content","noindex nofollow"),P(n,"lang","en"),P(f,"class","svelte-okay9t"),P(o,"class","card svelte-okay9t"),P(_,"class","svelte-okay9t"),P(h,"class","card svelte-okay9t"),P(D,"class","svelte-okay9t"),P(p,"class","card svelte-okay9t"),P(i,"class","main")},m(A,T){U(document.head,e),U(document.head,n),lt(A,r,T),lt(A,i,T),U(i,o),U(o,a),U(o,l),Jt(s,o,null),U(o,u),U(o,f),U(i,c),U(i,h),U(h,g),U(h,m),Jt(v,h,null),U(h,d),U(h,_),U(i,w),U(i,p),U(p,b),U(p,M),Jt(x,p,null),U(p,$),U(p,D),H=!0},p:K,i(A){H||(Kt(s.$$.fragment,A),Kt(v.$$.fragment,A),Kt(x.$$.fragment,A),H=!0)},o(A){ve(s.$$.fragment,A),ve(v.$$.fragment,A),ve(x.$$.fragment,A),H=!1},d(A){A&&(nt(r),nt(i)),nt(e),nt(n),jt(s),jt(v),jt(x)}}}class uh extends De{constructor(e){super(),Ae(this,e,null,ah,ue,{})}}new uh({target:document.getElementById("app")});
